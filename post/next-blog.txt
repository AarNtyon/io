1:HL["/_next/static/css/1f0d902978992700.css",{"as":"style"}]
0:[[["",{"children":["post",{"children":[["slug","next-blog","d"],{"children":["__PAGE__?{\"slug\":\"next-blog\"}",{}]}]}]},"$undefined","$undefined",true],"$L2",[[["$","link","0",{"rel":"stylesheet","href":"/_next/static/css/1f0d902978992700.css","precedence":"next"}]],["$L3",null]]]]
4:HL["/_next/static/css/004d055e2de33bc2.css",{"as":"style"}]
5:I{"id":"8920","chunks":["920:static/chunks/920-2fb459665447a51a.js","605:static/chunks/app/post/[slug]/page-a215c359bbae8405.js"],"name":"","async":false}
6:"$Sreact.suspense"
7:I{"id":"7069","chunks":["920:static/chunks/920-2fb459665447a51a.js","185:static/chunks/app/layout-cd85c0e929e8f1b3.js"],"name":"NoSSR","async":false}
8:I{"id":"5554","chunks":["920:static/chunks/920-2fb459665447a51a.js","185:static/chunks/app/layout-cd85c0e929e8f1b3.js"],"name":"","async":false}
9:I{"id":"4463","chunks":["272:static/chunks/webpack-b19f63780b4947aa.js","667:static/chunks/2443530c-824e93370d7398c3.js","488:static/chunks/488-e1ddd61bb847c097.js"],"name":"","async":false}
a:I{"id":"1010","chunks":["272:static/chunks/webpack-b19f63780b4947aa.js","667:static/chunks/2443530c-824e93370d7398c3.js","488:static/chunks/488-e1ddd61bb847c097.js"],"name":"","async":false}
c:I{"id":"2263","chunks":["920:static/chunks/920-2fb459665447a51a.js","185:static/chunks/app/layout-cd85c0e929e8f1b3.js"],"name":"","async":false}
2:[["$","html",null,{"lang":"en","children":["$","body",null,{"children":["$","div",null,{"id":"__next","children":["$","div",null,{"id":"app","className":"flex h-100% flex-col","children":[["$","header",null,{"className":"flex justify-between  w-68% h-66px m-auto items-center xs:w-100% p-l-80px p-r-80px xs:p-l-20px xs:p-r-20px shrink-0","children":[["$","$L5",null,{"className":"text-20px cursor-pointer font-bold font-mono dark:color-white hover:color-#1e90ff","href":"/","children":["$","span",null,{"children":"Rain's Blog"}]}],["$","nav",null,{"className":"flex items-center column-50px","children":[["$","nav",null,{"className":"text-right opacity-[0.6] text-[16px] dark:color-#e5e7eb flex","children":[["$","$L5",null,{"className":"mr-20px","href":"/post","children":[["$","span",null,{"className":"xs:hidden md:block","children":"文章"}],["$","i",null,{"className":"xs:block  md:hidden dark:color-#fff i-carbon-align-box-top-left"}]]}],["$","$L5",null,{"className":"mr-20px","href":"/tags","children":[["$","span",null,{"className":"xs:hidden md:block","children":"标签"}],["$","i",null,{"className":"xs:block  md:hidden dark:color-#fff i-carbon-bookmark-add"}]]}],["$","$L5",null,{"className":"mr-20px","href":"/about","children":[["$","span",null,{"className":"xs:hidden md:block","children":"关于"}],["$","i",null,{"className":"xs:block  md:hidden dark:color-#fff i-carbon-sprout"}]]}]]}],["$","$6",null,{"fallback":null,"children":["$","$L7",null,{"children":["$","$L8",null,{}]}]}]]}]]}],["$","main",null,{"className":"font-sans flex-auto","children":["$","$L9",null,{"parallelRouterKey":"children","segmentPath":["children"],"error":"$undefined","errorStyles":"$undefined","loading":"$undefined","loadingStyles":"$undefined","hasLoading":false,"template":["$","$La",null,{}],"templateStyles":"$undefined","notFound":"$undefined","notFoundStyles":"$undefined","childProp":{"current":["$","$L9",null,{"parallelRouterKey":"children","segmentPath":["children","post","children"],"error":"$undefined","errorStyles":"$undefined","loading":"$undefined","loadingStyles":"$undefined","hasLoading":false,"template":["$","$La",null,{}],"templateStyles":"$undefined","notFound":"$undefined","notFoundStyles":"$undefined","childProp":{"current":["$","$L9",null,{"parallelRouterKey":"children","segmentPath":["children","post","children",["slug","next-blog","d"],"children"],"error":"$undefined","errorStyles":"$undefined","loading":"$undefined","loadingStyles":"$undefined","hasLoading":false,"template":["$","$La",null,{}],"templateStyles":"$undefined","notFound":"$undefined","notFoundStyles":"$undefined","childProp":{"current":["$Lb",null],"segment":"__PAGE__?{\"slug\":\"next-blog\"}"},"styles":[["$","link","0",{"rel":"stylesheet","href":"/_next/static/css/004d055e2de33bc2.css","precedence":"next"}]]}],"segment":["slug","next-blog","d"]},"styles":[]}],"segment":"post"},"styles":[]}]}],["$","footer",null,{"className":"dark:color-white text-center h-66px leading-[66px]","children":["© ",2023,", Rain | Powered by Next.js"]}],["$","$6",null,{"fallback":null,"children":["$","$L7",null,{"children":["$","$Lc",null,{}]}]}]]}]}]}]}],null]
3:[[["$","meta",null,{"charSet":"utf-8"}],["$","title",null,{"children":"使用 Next.js 来构建博客"}],["$","meta",null,{"name":"description","content":"支持多种数据源，包括本地 md 文件，和 Notion 数据库中的页面"}],null,null,null,null,null,null,null,null,["$","meta",null,{"name":"viewport","content":"width=device-width, initial-scale=1"}],null,null,null,null,null,null,null,null,null,null,[]],[null,null,null,null],null,null,[null,null,null,null,null],null,null,null,null,[null,[["$","link",null,{"rel":"icon","href":"/favicon.ico","type":"image/x-icon","sizes":"any"}]],[],null]]
b:"$Ld"
d:["$","div",null,{"className":"prose w-60% m-auto m-b-50px xs:w-90% m-t-66px","children":[["$","div",null,{"className":"m-b-30px","children":["$","div",null,{"children":[["$","h1",null,{"children":"使用 Next.js 来构建博客"}],["$","p",null,{"className":"flex justify-between","children":[["$","span",null,{"className":"color-gray","children":["Rain, ","Thu  May  13  2021"]}],["$","$L5",null,{"className":"cursor-pointer color-gray","href":"/post","children":"back"}]]}]]}]}],["$","article",null,{"className":"prose","dangerouslySetInnerHTML":{"__html":"<h2>使用本地 markdown 文件和 static export</h2>\n<p>在 Next.js 13.3 中，增加了 <a href=\"https://nextjs.org/docs/app/building-your-application/deploying/static-exports\">static export</a> 的功能，我们可以直接部署打包好的静态文件。</p>\n<p>默认情况下，本博客使用本地 markdown 文件来构建页面，博客文章都在 <code>posts</code> 目录下。\n要创建一个新的文章，需要在文件中使用 frontmatter 来设置文章元信息。</p>\n<h2>使用 Notion Database</h2>\n<h3>与其它方案对比</h3>\n<p>和常规的前后端程序相比</p>\n<ol>\n<li>搭建成本低，一键即可部署到 Vercel</li>\n<li>专注于界面和功能，内容管理的部分交由 Notion 来完成</li>\n</ol>\n<p>和 Hexo 或者 Hugo 等静态站点生成器相比</p>\n<ol>\n<li>不用在项目 git 仓库中编写文章</li>\n<li>不用每次内容变化时重新构建新的站点</li>\n</ol>\n<h3>Next.js 加上 Notion 的优势</h3>\n<ol>\n<li>具备动态获取文章内容能力的同时，性能足够好</li>\n<li>Notion 的开放 API 体验极其友好，文章内容格式的丰富程度比 markdown 高</li>\n</ol>\n<h2>如何使用 Notion</h2>\n<h3>准备好 Notion 数据库</h3>\n<ol>\n<li>首先准备用于存放博客文章的空数据库，获取到 <code>NOTION_DATABASE_ID</code></li>\n<li>创建 <a href=\"https://www.notion.so/my-integrations\">Integrations</a>，获取 <code>NOTION_TOKEN</code>，并连接到创建的数据库</li>\n</ol>\n<h3>开始设置</h3>\n<ol>\n<li>从我的代码 fork 或者从模板创建项目</li>\n<li>按照你的信息修改 <code>config/site.config.ts</code> 中的内容</li>\n<li>在 Vercel 中以此仓库创建新的项目</li>\n<li>在环境变量中填入 <code>NOTION_TOKEN</code> , <code>NOTION_DATABASE_ID</code></li>\n</ol>\n<p>修改 <code>config/site.config.ts</code> 中 source 的部分为 <code>notion</code>，\n删除 <code>next.config.js</code> 如下部分来关闭 static export。</p>\n<pre class=\"pre-dark\" style=\"background:#fafafa\"><code><span class=\"line\"><span style=\"color: #C678DD\">const</span><span style=\"color: #ABB2BF\"> </span><span style=\"color: #E5C07B\">nextConfig</span><span style=\"color: #ABB2BF\"> </span><span style=\"color: #56B6C2\">=</span><span style=\"color: #ABB2BF\"> {</span></span>\n<span class=\"line\"><span style=\"color: #ABB2BF\">  </span><span style=\"color: #7F848E; font-style: italic\">// 删除配置里对应的部分，取消其他部分的注释</span></span>\n<span class=\"line\"><span style=\"color: #ABB2BF\">  </span><span style=\"color: #E06C75\">output</span><span style=\"color: #ABB2BF\">: </span><span style=\"color: #98C379\">&quot;export&quot;</span><span style=\"color: #ABB2BF\">,</span></span>\n<span class=\"line\"><span style=\"color: #ABB2BF\">  </span><span style=\"color: #E06C75\">images</span><span style=\"color: #ABB2BF\">: {</span></span>\n<span class=\"line\"><span style=\"color: #ABB2BF\">    </span><span style=\"color: #E06C75\">unoptimized</span><span style=\"color: #ABB2BF\">: </span><span style=\"color: #D19A66\">true</span><span style=\"color: #ABB2BF\">,</span></span>\n<span class=\"line\"><span style=\"color: #ABB2BF\">  },</span></span>\n<span class=\"line\"><span style=\"color: #ABB2BF\">}</span></span>\n<span class=\"line\"><span style=\"color: #E5C07B\">module</span><span style=\"color: #ABB2BF\">.</span><span style=\"color: #E5C07B\">exports</span><span style=\"color: #ABB2BF\"> </span><span style=\"color: #56B6C2\">=</span><span style=\"color: #ABB2BF\"> </span><span style=\"color: #E06C75\">nextConfig</span></span>\n<span class=\"line\"></span></code></pre>\n<h3>推荐的写作模式</h3>\n<p>在任意其它的页面进行写作，等到完成后，复制或者移动到创建的数据库。</p>\n"}}]]}]
